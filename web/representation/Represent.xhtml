<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title><ui:insert name="title">AMS</ui:insert></title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <h:outputStylesheet library="css" name="jsfcrud.css"/>
        <h:outputScript library="js" name="jsfcrud.js"/> 
        <h:outputStylesheet library="css" name="bootstrap.css"/>
        <h:outputScript library="js" name="jquery.js"/>
    </h:head>

    <ui:composition template="/template.xhtml">

        <ui:define name="body">    
            <p:messages id="msgs" showDetail="true" showSummary="false" >
                <p:effect type="pulsate" event="load" delay="500" /></p:messages>

            <h:form>   

                <div class="row justify-content-center">

                    <div class="col-xl-12" style="margin: 0% 1% 0% 1%;">

                        <div class="card shadow mb-4">
                            <!-- Card Header - Dropdown -->
                            <div
                                class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary">Family Representation</h6>
                                <div class="dropdown no-arrow">

                                </div>
                            </div>
                            <!-- Card Body -->
                            <p:card style="width: 100%;"> 
                                     
                                <!-- Grantor started -->     
                                <p:tabView> 
                                    <p:tab title="Grantor">
                                    <div class="card shadow mb-4">
                                        <div
                                            class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                            
                                        </div>
                                        <!-- Card Body -->
                                        <div class="card-body">
                                            <f:view> 
                                                <h:form > 
                                                    <p:panelGrid columns="6" style="width:50%;">
                                                        <p:outputLabel value="Customertype:" for="customertype" /> 
                                                        <p:selectOneMenu id="customertype" value="#{grantorController.selected.customertype}" title="Customertype">
                                                            <f:selectItem itemLabel="Select customer Type" itemValue=""/>
                                                            <f:selectItem itemLabel="Individual" itemValue="Individual"/>
                                                            <f:selectItem itemLabel="Organization" itemValue="Organization"/> 
                                                            <f:ajax render="@form" />
                                                        </p:selectOneMenu>
                                                    </p:panelGrid>
                                                    <br/>
                                                    
                                                    <!-- Individual -->
                                                    <p:panel header="Individual" toggleable="true" rendered="#{grantorController.selected.customertype == 'Individual'}">  
                                                        <p:panelGrid columns="4" style="width:100%;">
                                                            <p:outputLabel value="Firstname:" for="firstname" />
                                                            <p:inputText id="firstname" value="#{grantorController.selected.firstname}" title="Firstname" />
                                                            <p:outputLabel value="Middlename:" for="middlename" />
                                                            <p:inputText id="middlename" value="#{grantorController.selected.middlename}" title="Middlename" />
                                                            <p:outputLabel value="Lastname:" for="lastname" />
                                                            <p:inputText id="lastname" value="#{grantorController.selected.lastname}" title="Lastname" />
                                                            <p:outputLabel value="Sex:" for="sex" />
                                                            <p:inputText id="sex" value="#{grantorController.selected.sex}" title="Sex" />
                                                        </p:panelGrid>
                                                    </p:panel>
                                                    
                                                    <br/>
                                                    
                                                    <!-- Organization -->
                                                    <p:panel style="margin-bottom: 2%" header="Organization" toggleable="true"  rendered="#{grantorController.selected.customertype == 'Organization'}">  
                                                        <p:panelGrid columns="6" style="width:50%;">

                                                            <p:outputLabel value="Orgname:" for="orgname" />
                                                            <p:inputText id="orgname" value="#{grantorController.selected.orgname}" title="Orgname" />
                                                           
                                                        </p:panelGrid>
                                                        
                                                    </p:panel>
                                                    
                                                    <!-- Individual -->
                                                    <p:panel header="Address" toggleable="true">  
                                                        <p:panelGrid columns="4" style="width:100%;">
 
                                                            <p:outputLabel value="Country:" for="country" />
                                                            <p:inputText id="country" value="#{grantorController.selected.country}" title="Country" />
                                                            <p:outputLabel value="Housenumber:" for="housenumber" />
                                                            <p:inputText id="housenumber" value="#{grantorController.selected.housenumber}" title="Housenumber" />
                                                            <p:outputLabel value="Phone:" for="phone" />
                                                            <p:inputText id="phone" value="#{grantorController.selected.phone}" title="Phone" />
                                                            <p:outputLabel value="Tinnumber:" for="tinnumber" />
                                                            <p:inputText id="tinnumber" value="#{grantorController.selected.tinnumber}" title="Tinnumber" />
                                                            <p:outputLabel value="Address:" for="address" />
                                                            <p:inputText id="address" value="#{grantorController.selected.address}" title="Address" />
                                                           
                                                        </p:panelGrid>
                                                    </p:panel> 
                                                    
                                                    <div class="index-btn-wrapper" style="width: 16%">  
                                                        <p:commandButton class="index-btn" value="Add Grant">
                                                            <f:ajax listener="#{grantorController.add()}" render="@form" />
                                                        </p:commandButton> 
                                                    </div>
                                                     
                                                    <ui:repeat value="#{grantorController.grantors}" var="grant"> 
                                                        <p:panel header="Another Grantor" toggleable="true" style="margin-top: 2%">
                                                             
                                                            <p:panelGrid columns="6" style="width:50%;">
                                                                <p:outputLabel value="Customertype:" for="customertype" /> 
                                                                <p:selectOneMenu id="customertype" value="#{grantorController.selected.customertype}" title="Customertype">
                                                                    <f:selectItem itemLabel="Select customer Type" itemValue=""/>
                                                                    <f:selectItem itemLabel="Individual" itemValue="Individual"/>
                                                                    <f:selectItem itemLabel="Organization" itemValue="Organization"/> 
                                                                    <f:ajax render="@form" />
                                                                </p:selectOneMenu>
                                                            </p:panelGrid>
                                                             <br/>
                                                    
                                                    <!-- Individual -->
                                                    <p:panel header="Individual" toggleable="true" rendered="#{grantorController.selected.customertype == 'Individual'}">  
                                                        <p:panelGrid columns="4" style="width:100%;">
                                                            <p:outputLabel value="Firstname:" for="firstname" />
                                                            <p:inputText id="firstname" value="#{grantorController.selected.firstname}" title="Firstname" />
                                                            <p:outputLabel value="Middlename:" for="middlename" />
                                                            <p:inputText id="middlename" value="#{grantorController.selected.middlename}" title="Middlename" />
                                                            <p:outputLabel value="Lastname:" for="lastname" />
                                                            <p:inputText id="lastname" value="#{grantorController.selected.lastname}" title="Lastname" />
                                                            <p:outputLabel value="Sex:" for="sex" />
                                                            <p:inputText id="sex" value="#{grantorController.selected.sex}" title="Sex" />
                                                        </p:panelGrid>
                                                    </p:panel>
                                                    
                                                    <br/>
                                                    
                                                    <!-- Organization -->
                                                    <p:panel style="margin-bottom: 2%" header="Organization" toggleable="true"  rendered="#{grantorController.selected.customertype == 'Organization'}">  
                                                        <p:panelGrid columns="6" style="width:50%;">

                                                            <p:outputLabel value="Orgname:" for="orgname" />
                                                            <p:inputText id="orgname" value="#{grantorController.selected.orgname}" title="Orgname" />
                                                           
                                                        </p:panelGrid>
                                                        
                                                    </p:panel>
                                                    
                                                    <!-- Individual -->
                                                    <p:panel header="Address" toggleable="true">  
                                                        <p:panelGrid columns="4" style="width:100%;">
 
                                                            <p:outputLabel value="Country:" for="country" />
                                                            <p:inputText id="country" value="#{grantorController.selected.country}" title="Country" />
                                                            <p:outputLabel value="Housenumber:" for="housenumber" />
                                                            <p:inputText id="housenumber" value="#{grantorController.selected.housenumber}" title="Housenumber" />
                                                            <p:outputLabel value="Phone:" for="phone" />
                                                            <p:inputText id="phone" value="#{grantorController.selected.phone}" title="Phone" />
                                                            <p:outputLabel value="Tinnumber:" for="tinnumber" />
                                                            <p:inputText id="tinnumber" value="#{grantorController.selected.tinnumber}" title="Tinnumber" />
                                                            <p:outputLabel value="Address:" for="address" />
                                                            <p:inputText id="address" value="#{grantorController.selected.address}" title="Address" />
                                                           
                                                        </p:panelGrid>
                                                    </p:panel> 
                                                             <p:commandButton value="Remove" style="background-color: red">
                                                                     <f:ajax listener="#{grantorController.remove(grant)}" render="@form" />
                                                             </p:commandButton> 
                                                        </p:panel> 
                                                    </ui:repeat> 
                                                    
                                                    <div class="index-btn-wrapper" style="width: 12%">  
                                                       <h:commandButton style="padding: 3px;border-radius: 3px;margin-left: 1%;font-size: 13px;" class="index-btn" actionListener="#{grantorController.insert()}" value="Save" /> 
                                                    </div>
                                                </h:form>
                                            </f:view> 
                                        </div>
                                    </div> 
                                    </p:tab>
                                    
                                <!-- Grantor ended --> 
                                    
                                 <!-- Representative started -->  
                                    <p:tab title="Representative">
                                    <div class="card shadow mb-4">
                                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                             
                                        </div>
                                        <!-- Card Body -->
                                        <div class="card-body">
                                            <f:view>  
                                                <h:form> 
                                                    <p:panelGrid columns="6">
                                                        <p:outputLabel value="Repcustomertype:" for="repcustomertype" />
                                                        <p:inputText id="repcustomertype" value="#{representativeController.selected.repcustomertype}" title="Repcustomertype" />
                                                        <p:outputLabel value="Repfirstname:" for="repfirstname" />
                                                        <p:inputText id="repfirstname" value="#{representativeController.selected.repfirstname}" title="Repfirstname" />
                                                        <p:outputLabel value="Repmiddlename:" for="repmiddlename" />
                                                        <p:inputText id="repmiddlename" value="#{representativeController.selected.repmiddlename}" title="Repmiddlename" />
                                                        <p:outputLabel value="Replastname:" for="replastname" />
                                                        <p:inputText id="replastname" value="#{representativeController.selected.replastname}" title="Replastname" />
                                                        <p:outputLabel value="Repcountry:" for="repcountry" />
                                                        <p:inputText id="repcountry" value="#{representativeController.selected.repcountry}" title="Repcountry" />
                                                        <p:outputLabel value="Repsex:" for="repsex" />
                                                        <p:inputText id="repsex" value="#{representativeController.selected.repsex}" title="Repsex" />
                                                        <p:outputLabel value="Rephousenumber:" for="rephousenumber" />
                                                        <p:inputText id="rephousenumber" value="#{representativeController.selected.rephousenumber}" title="Rephousenumber" />
                                                        <p:outputLabel value="Repphone:" for="repphone" />
                                                        <p:inputText id="repphone" value="#{representativeController.selected.repphone}" title="Repphone" />
                                                        <p:outputLabel value="Reptinnumber:" for="reptinnumber" />
                                                        <p:inputText id="reptinnumber" value="#{representativeController.selected.reptinnumber}" title="Reptinnumber" />
                                                     
                                                    </p:panelGrid>
                                                     
                                                    
                                                    <div class="index-btn-wrapper" style="width: 12%">  
                                                        <h:commandButton style="padding: 3px;border-radius: 3px;" class="index-btn" actionListener="#{representativeController.insert()}" value="Save" /> 
                                                    </div>
                                                </h:form>
 
                                            </f:view>

                                        </div>
                                    </div> 
                                    </p:tab>
                                    <!-- Representative ended -->  
                                    
                                     <!-- Property started -->  
                                    <p:tab title="Property">
                                    <div class="card shadow mb-4">
                                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                            
                                        </div>
                                        <!-- Card Body -->
                                        <div class="card-body">
                                            <f:view>  
                                                <h:form> 
                                                    <p:panelGrid columns="4" style="width: 50%">
                                                        <p:outputLabel value="Propertyname: "  />
                                                        <p:selectBooleanCheckbox class="checkme" onchange="showVehicle(this.checked)" itemLabel="Vehicle"/>
                                                        <p:selectBooleanCheckbox onchange="showHouse(this.checked)" itemLabel="House"  />
                                                        <p:selectBooleanCheckbox onchange="showOrg(this.checked)" itemLabel="Organization"/>
                                                    </p:panelGrid>
                                                    
                                                    <br/>
                                                    
                                                   <div id="propertyVehicle" class="propertyVehicle" style="display: none;">
                                                    <p:panel  toggleable="true"  header="Vehicle detail" >  
                                                        <p:panelGrid columns="4" class="properyGrid property-vehicle">
                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_motornumber}" for="motornumber" />
                                                            <p:inputText id="motornumber" value="#{propertyController.selected.motornumber}" title="#{bundle.CreatePropertyTitle_motornumber}" />

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_chansinumber}" for="chansinumber" />
                                                            <p:inputText id="chansinumber" value="#{propertyController.selected.chansinumber}" title="#{bundle.CreatePropertyTitle_chansinumber}" />

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_librenumber}" for="librenumber" />
                                                            <p:inputText id="librenumber" value="#{propertyController.selected.librenumber}" title="#{bundle.CreatePropertyTitle_librenumber}" />

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_code}" for="code" />
                                                            <p:inputText id="code" value="#{propertyController.selected.code}" title="#{bundle.CreatePropertyTitle_code}" />

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_platenumber}" for="platenumber" />
                                                            <p:inputText id="platenumber" value="#{propertyController.selected.platenumber}" title="#{bundle.CreatePropertyTitle_platenumber}" />

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_vehicletype}" for="vehicletype" />
                                                            <p:inputText id="vehicletype" value="#{propertyController.selected.vehicletype}" title="#{bundle.CreatePropertyTitle_vehicletype}" />

                                                        </p:panelGrid>
                                                    </p:panel>
                                                </div>


                                                <div id="propertyHouse" class="propertyHouse" style="display: none;">
                                                    <br/>
                                                    <br/>
                                                    <p:panel  toggleable="true"  header="Residence detail" > 
                                                        <p:panelGrid columns="4" class="properyGrid propertyHouse">
                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_housenumber}" for="residencehousenumber" />
                                                            <p:inputText id="residencehousenumber" value="#{propertyController.selected.housenumber}" title="#{bundle.CreatePropertyTitle_housenumber}" />

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_residencearea}" for="residencearea" />
                                                            <p:inputText id="residencearea" value="#{propertyController.selected.residencearea}" title="#{bundle.CreatePropertyTitle_residencearea}" />

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_housetype}" for="housetype" />
                                                            <p:inputText id="housetype" value="#{propertyController.selected.housetype}" title="#{bundle.CreatePropertyTitle_housetype}" />

                                                        </p:panelGrid>
                                                    </p:panel>
                                                </div>


                                                <div id="propertyOrg" class="propertyOrg" style="display: none;">
                                                    <br/>
                                                    <br/>
                                                    <p:panel  toggleable="true"  header="Organization detail" > 
                                                        <p:panelGrid columns="4" class="properyGrid propertyOrg">

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_companyname}" for="companyname" />
                                                            <p:inputText id="companyname" value="#{propertyController.selected.companyname}" title="#{bundle.CreatePropertyTitle_companyname}" />

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_businessregno}" for="businessregno" />
                                                            <p:inputText id="businessregno" value="#{propertyController.selected.businessregno}" title="#{bundle.CreatePropertyTitle_businessregno}" />

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_businessliceno}" for="businessliceno" />
                                                            <p:inputText id="businessliceno" value="#{propertyController.selected.businessliceno}" title="#{bundle.CreatePropertyTitle_businessliceno}" />

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_tinno}" for="tinno" />
                                                            <p:inputText id="tinno" value="#{propertyController.selected.tinno}" title="#{bundle.CreatePropertyTitle_tinno}" />

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_businesscategory}" for="businesscategory" />
                                                            <p:inputText id="businesscategory" value="#{propertyController.selected.businesscategory}" title="#{bundle.CreatePropertyTitle_businesscategory}" />

                                                            <p:outputLabel value="#{bundle.CreatePropertyLabel_detail}" for="detail" />
                                                            <p:inputText id="detail" value="#{propertyController.selected.detail}" title="#{bundle.CreatePropertyTitle_detail}" />

                                                        </p:panelGrid>
                                                    </p:panel>
                                                     
                                                    <div class="index-btn-wrapper" style="width: 12%">  
                                                        <h:commandButton style="padding: 3px;border-radius: 3px;" class="index-btn" actionListener="#{propertyController.insert()}" value="Save" /> 
                                                    </div>
                                                </div>
                                                </h:form>
 
                                            </f:view>

                                        </div>
                                    </div> 
                                    </p:tab>
                                    <!-- property started -->  
                                </p:tabView> 
                        
                            </p:card>

                        </div>

                    </div>


                </div> 

            </h:form> 
        </ui:define>
    </ui:composition>

</html>